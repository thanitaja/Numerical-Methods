<!DOCTYPE html>
<html>
  <head>
<title>Simple One-Point Iteration</title>
<script src="https://unpkg.com/mathjs@5.4.1/dist/math.min.js"></script>
<meta charset="UTF-8">
<script src="https://cdn.plot.ly/plotly-1.35.2.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-teal.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://unpkg.com/mathjs@5.4.0/dist/math.min.js"></script>
<script src="https://cdn.plot.ly/plotly-1.35.2.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=AM_CHTML"></script>


<style>
body {
  font-family: "Roboto", sans-serif;
}
.w3-bar-block .w3-bar-item {
  padding: 20px;
  font-weight:normal;
  background-color : rgb(255, 57, 116)		 ;
}

#mySidebar{
    background-color : rgb(255, 57, 116)		;
    color:rgb(0, 0, 0);
}

#myTop{
  background-color : rgb(255, 57, 116)	;
}

header{
  background-color : rgb(255, 57, 116)	;
}

footer{
  background-color : rgb(255, 57, 116)	;
}

table {
  border-collapse: collapse;
  width: 100%;
}

th {
  padding: 8px;
  text-align: center;
  border-bottom: 1px solid #ddd;
  background-color: rgb(255, 57, 116);
}

td {
  padding: 8px;
  border-bottom: 1px solid #ddd;
}

#Iteration{text-align: center;}

tr:hover {background-color:rgb(255, 57, 116);}


A:link	{
text-decoration:none;
}

A:visited	{
text-decoration:none;
}


/* scrollbar */
/* width */
::-webkit-scrollbar {
  width: 10px;
}

/* Track */
::-webkit-scrollbar-track {
  background: rgb(255, 215, 215) ; 
}
 
/* Handle */
::-webkit-scrollbar-thumb {
  background:rgb(255, 57, 116); 
}


</style>



</head>

<body style="background-color : #ffeaea ">

    <!--------------------------------------------------------------nav------------------------------------------------------------------------------------------->

    <nav class="w3-sidebar w3-bar-block w3-collapse w3-animate-left w3-card" style="z-index:3;width:250px;"
    id="mySidebar">
 
    <a class="w3-bar-item w3-button w3-hide-large w3-large w3-hover-pink" href="javascript:void(0)"
        onclick="w3_close()">Close <i class="fa fa-remove"></i></a>
    <a class="w3-bar-item w3-button w3-text-white w3-hover-pink w3-pink" href="home.html">Home</a>
    <div>
        <a class="w3-bar-item w3-button w3-pink w3-text-white w3-hover-pink" onclick="myAccordion('demo1')"
            href="javascript:void(0)">Roots of Equations <i class="fa fa-caret-down"></i></a>
        <div id="demo1" class="w3-show" style="font: 1em sans-serif;">
            <a class="w3-bar-item w3-button w3-text-white w3-hover-pink " href="bisection.html">Bisection Method</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="false.html">False-Position Method</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" href="Simple.html">Simple One-Point
                Iteration</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="newton.html">Newton-Ralphson
                Method</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Secant.html">Secant Method</a>
        </div>
    </div>
 
    <div>
        <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo2')"
            href="javascript:void(0)">Solution Of Linear Algebraic Equations <i class="fa fa-caret-down"></i></a>
        <div id="demo2" class="w3-hide" style="font: 1em sans-serif;">
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="cramer.html">Cramer's Rule</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Guss.html">Guss Elimination</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="jordan.html">Gauss-Jordan</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="matrix.html">Matrix Inversion</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="lu.html">LU Decomposition</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Cholesky.html">Cholesky
                Decomposition</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Jacobi.html">Jacobi Iteration</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="seidel.html">Gauss-Seidel</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Conjugate.html">Conjugate
                Gradient</a>
        </div>
    </div>
 
    <div>
        <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo3')"
            href="javascript:void(0)">Interpolation <i class="fa fa-caret-down"></i></a>
        <div id="demo3" class="w3-hide" style="font: 1em sans-serif;">
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white " href="Divided_Difference.html">Newton's
                Divided-Difference</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Lagrang.html">Lagrang</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo8')"
                href="javascript:void(0)">Spline<i class="fa fa-caret-down"></i></a>
            <div id="demo8" class="w3-hide" style="font: 1em sans-serif;">
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white " href="Spline_l.html"> &nbsp&nbsp
                    Linear</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Spline_q.html"> &nbsp&nbsp
                    quadratic</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Spline_c.html"> &nbsp&nbsp
                    cubic</a>
            </div>
        </div>
    </div>
 
    <div>
        <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo4')"
            href="javascript:void(0)">Least Squares Regression<i class="fa fa-caret-down"></i></a>
        <div id="demo4" class="w3-hide" style="font: 1em sans-serif;">
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Linear.html">Linear Regression</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Polynomial.html">Polynomial
                Regression</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Multiple.html">Multiple Linear
                Regression</a>
        </div>
    </div>
 
    <div>
        <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo5')"
            href="javascript:void(0)">Numerical Difference and Intergration <i class="fa fa-caret-down"></i></a>
        <div id="demo5" class="w3-hide" style="font: 1em sans-serif;">
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo9')"
                href="javascript:void(0)">Differention<i class="fa fa-caret-down"></i></a>
            <div id="demo9" class="w3-hide" style="font: 1em sans-serif;">
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white  " href="Forward.html"> &nbsp&nbsp
                    Forward</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white " href="Central.html"> &nbsp&nbsp
                    Central</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Backward.html">
                    &nbsp&nbsp Backward</a>
            </div>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo7')"
                href="javascript:void(0)">Intergration<i class="fa fa-caret-down"></i></a>
            <div id="demo7" class="w3-hide" style="font: 1em sans-serif;">
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="compositet.html"> &nbsp&nbsp
                    Composite Trapezodal</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="composites.html"> &nbsp&nbsp
                    Composite Simpson's Rule</a>
            </div>
        </div>
    </div>
 
    <div>
        <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo11')"
            href="javascript:void(0)">Ordinary Differential Equations<i class="fa fa-caret-down"></i></a>
        <div id="demo11" class="w3-hide" style="font: 1em sans-serif;">
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Euler.html">Euler's Method</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Heun.html">Heun's Method</a>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Modified.html">Modified Euler's
                Method</a>
        </div>
    </div>
 
 
 </nav>
 <!--///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->
 
<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" id="myOverlay"></div>

<div class="w3-main" style="margin-left:250px;">

<div id="myTop" class="w3-container w3-top w3-large">
  <p><i class="fa fa-bars w3-button w3-hide-large w3-xlarge w3-text-white w3-hover-pink" onclick="w3_open()" style="background-color:rgb(255, 57, 116); "></i>
  <span id="myIntro" class="w3-hide w3-text-white">ROOTS OF EQUATIONS : Simple One-Point Iteration</span></p>
</div>

<header class="w3-container " style="padding:64px 32px">
  <h1 class="w3-xxxlarge w3-text-white">ROOTS OF EQUATIONS</h1>
</header>

<div class="w3-container" style="padding:32px" >

<h2>Simple One-Point Iteration</h2>

<p>Algorithm: </p>

<ul class="w3-leftbar w3-theme-border w3-border-red" style="list-style:none" >
 <li>Step 1 : ใส่ฟังก์ที่ต้องการหา root</li>
 <li>Step 2 : ใส่ค่าเริ่มต้นโดย </li>
 <li> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  x<sub>0</sub> คือ ค่าเริ่มต้น</li>
</ul>   
<br>

<center>

  <form id="form">
        <div class="w3-row">
            <div class="w3-col s4  w3-center"> <center><input type="text" class="w3-input w3-hover" style="width:80% " id="func" placeholder="function" ></center> </div>
            <div class="w3-col s4  w3-center"></div>
            <div class="w3-col s4  w3-center"><center><input type="text" class="w3-input w3-hover" style="width:80%" id="x0" placeholder="X0"></center></div>
          </div>
      <br>
        <input type="submit" value="calculate" onclick="appendText(x0.value)" id="button" class="w3-button w3-section w3-pink w3-ripple w3-hover-red" />
  </form>

       

</center>





<div class="w3-container w3-padding-16 w3-card" style="background-color :white" id="graph"> 
    <div id="plot"></div>
</div>

<br>
<div class="w3-container w3-padding-16 w3-card" style="background-color :white" id="showx"> 
  <h3>คำนวณหารากของสมการ</h3> 
  
  <hr>

  <table id="showans">
    <tr>
      <th width="25%">Iteration No.</th>
      <th  width="25%">X<sub>0</sub></th>
      <th  width="25%">X</th>
      <th  width="25%">error</th>
    </tr>
    <tr class="list-data">
      <td id="Iteration"><p></p></td>        
      <td id="x0"></td>
      <td id="x"></td>
      <td id="error"></td>
    </tr>
  </table>
  
</div>

</div>





<footer class="w3-container " style="padding:32px">
    <div class="container">
        <div class="row">
          <div class="col-sm-4">
            <h3>About As...</h3>
            <hr style="border-color: black">
            <p>Submitted by &nbsp :: &nbsp &nbspMiss Thanita &nbsp Playlaharn</p>
            <p> &nbsp &nbsp  &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp   5904062620033</p>
            <p> Present to &nbsp &nbsp &nbsp ::&nbsp &nbsp Suwatchai Kamonsantiroj &nbsp &nbsp, &nbsp &nbspPh.D.</p>
          </div>
          <div class="col-sm-4">
           

          </div>
          <div class="col-sm-4">
            <h3>About As...</h3>    
            <hr style="border-color: black">    
            <p>&nbsp &nbspThe website is a part of Numerical Method Subject</p>
            <p>&nbsp &nbspDepartment of Computer and Information Science ,</p>
            <p>&nbsp &nbspFaculty of Applied Science , King Mongkut's </p>
            <p>&nbsp &nbspUniversity of Technology North Bangkok</p>
          </div>
        </div>
      </div>
</footer>
</div>



<script>
// Open and close the sidebar on medium and small screens
function w3_open() {
  document.getElementById("mySidebar").style.display = "block";
  document.getElementById("myOverlay").style.display = "block";
}

function w3_close() {
  document.getElementById("mySidebar").style.display = "none";
  document.getElementById("myOverlay").style.display = "none";
}

// Change style of top container on scroll
window.onscroll = function() {myFunction()};
function myFunction() {
  if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {
    document.getElementById("myTop").classList.add("w3-card-4", "w3-animate-opacity");
    document.getElementById("myIntro").classList.add("w3-show-inline-block");
  } 
  else {
    document.getElementById("myIntro").classList.remove("w3-show-inline-block");
    document.getElementById("myTop").classList.remove("w3-card-4", "w3-animate-opacity");
  }
}

// Accordions
function myAccordion(id) {
  var x = document.getElementById(id);
  if (x.className.indexOf("w3-show") == -1) {
    x.className += " w3-show";
    x.previousElementSibling.className += " w3-pink w3-text-white w3-hover-pink";
  }
   else { 
    x.className = x.className.replace("w3-show", "w3-hide");
    x.previousElementSibling.className.replace(" w3-pink w3-text-white w3-hover-pink", " ");
  }
}



</script>

<script>
  // draw graaph
    function draw() {
      try {
        // compile the expression once
        const expression = document.getElementById('func').value
        const expr = math.compile(expression)
  
        // evaluate the expression repeatedly for different values of x
        const xValues = math.range(-10, 10, 0.5).toArray()
        const yValues = xValues.map(function (x) {
          return expr.eval({x: x})
        })
  
        // render the plot using plotly
        const trace1 = {
          x: xValues,
          y: yValues,
          type: 'scatter'
        }
        const data = [trace1]
        Plotly.newPlot('plot', data)
      }
      catch (err) {
        console.error(err)
        alert(err)
      }
    }
  
    document.getElementById('form').onsubmit = function (event) {
      event.preventDefault();
      draw();
    }
    draw();


// cal bisection
var n=0;
var count = 0;
function appendText(x0) {

  if(document.getElementById("func").value!="" && document.getElementById("x0").value!="" && n<1){ 

    while(count>1){
      let table = document.querySelector('table');
      // Delete second row
      table.deleteRow(count);
      count--;
    }

    count =0;
    var xnew = 0;
    var xold = x0;
    var sum= parseFloat(0.000000)  ;
    var data  = new Array(); 
   
    data['xx0'] = new Array();
    data['xx'] = new Array();
    data['xerror'] = new Array();

  
do{ 
    sumold =  data['xerror'][n-1];
    data['xx0'][n]  =   xold;
    xnew = func(xold);
    
    if(isNaN(xnew)){
      break;
    }
    sum = err(xnew, xold);
    xold = xnew;
    data['xx'][n]   =   xold;
    data['xerror'][n] =   Math.abs(sum);
    console.log(Math.abs( data['xx0'][n]));
    console.log(Math.abs( data['xx'][n]));
    n++;  
    count++;
}while(Math.abs(sum)!=sumold && Math.abs(sum)>0.000001) ;



        var a=0;
        var loopTag = $(".list-data").clone(true); // clone แถวที่ทำการลูปไว้ในตัวแปร
        var newTag =""; // สร้างตัวแปรไว้เก็บ html tags ที่สร้างมาใหม่  
       for(i=0;i<n;i++){ // วนลูปข้อมูล array ของ object
            var objHTML = loopTag; // ใช้ตัวแปร object ที่ clone มา
            objHTML.find("td:eq(0)").html(a).end()
            .find("td:eq(1)").html( data['xx0'][i]).end()
            .find("td:eq(2)").html( data['xx'][i]).end()
            .find("td:eq(3)").html( data['xerror'][i]).end();
            newTag += $(objHTML)[0].outerHTML; // สร้าง tags ข้อมูลใหม่แต่ละแถว
            a++;
        }
        $(".list-data").replaceWith(newTag); // แทนที่แถวที่จะทำการลูปด้วยข้อมูลใหม่  
  }
  n=0;
 
  $('body,html').animate({
            scrollTop : 1010
         }, 1100);
}


function err(xm, x) {
      return (xm-x)/xm;
  }

function func(X) {
      var expression = document.getElementById("func").value;
      expr = math.compile(expression);
      let scope = {x:parseFloat(X)};
      return expr.eval(scope);
  }


</script>

<script>
    $(document).ready(function(){
      $("#graph").hide();
      $("#showx").hide();
      $("#button").click(function(){
        $("#graph").show();
        $("#showx").show();
      }); 
      
    });
</script>
     
</body>
</html> 
