<!DOCTYPE html>
<html>
<head>
    <title>Backward Differention</title>
    <script src="https://unpkg.com/mathjs@5.4.1/dist/math.min.js"></script>
    <meta charset="UTF-8">
    <script src="https://cdn.plot.ly/plotly-1.35.2.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-teal.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://unpkg.com/mathjs@5.9.0/dist/math.min.js"></script>
    <script src="https://cdn.plot.ly/plotly-1.35.2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=AM_CHTML"></script>

    <style>
        body {
            font-family: "Roboto", sans-serif;
        }

        .w3-bar-block .w3-bar-item {
            padding: 20px;
            font-weight: normal;
            background-color: rgb(255, 57, 116);
        }

        #mySidebar {
            background-color: rgb(255, 57, 116);
            color: rgb(0, 0, 0);
        }

        #myTop {
            background-color: rgb(255, 57, 116);
        }

        header {
            background-color: rgb(255, 57, 116);
        }

        footer {
            background-color: rgb(255, 57, 116);
        }

        table {
            border-collapse: collapse;
            width: 100%;
            text-align: center;
        }

        th {
            padding: 8px;
            text-align: right;
            border-bottom: 1px solid #ddd;
            background-color: rgb(255, 57, 116);
        }

        td {
            padding: 8px;
            border-bottom: 1px solid #ddd;

        }

        input {
            width: 70%;
            border-color: rgb(255, 168, 251);
            border-top-width: 0px;
            border-left-width: 0px;
        }

        A:link {
            text-decoration: none;
        }

        A:visited {
            text-decoration: none;
        }


        /* scrollbar */
        /* width */
        ::-webkit-scrollbar {
            width: 10px;
        }

        /* Track */
        ::-webkit-scrollbar-track {
            background: rgb(255, 215, 215);
        }

        /* Handle */
        ::-webkit-scrollbar-thumb {
            background: rgb(255, 57, 116);
        }
    </style>
</head>

<body style="background-color : #ffeaea ">

    <!--------------------------------------------------------------nav------------------------------------------------------------------------------------------->

    <nav class="w3-sidebar w3-bar-block w3-collapse w3-animate-left w3-card" style="z-index:3;width:250px;"
        id="mySidebar">

        <a class="w3-bar-item w3-button w3-hide-large w3-large w3-hover-pink" href="javascript:void(0)"
            onclick="w3_close()">Close <i class="fa fa-remove"></i></a>
        <a class="w3-bar-item w3-button w3-text-white w3-hover-pink w3-pink" href="home.html">Home</a>
        <div>
            <a class="w3-bar-item w3-button w3-pink w3-text-white w3-hover-pink" onclick="myAccordion('demo1')"
                href="javascript:void(0)">Roots of Equations <i class="fa fa-caret-down"></i></a>
            <div id="demo1" class="w3-hide" style="font: 1em sans-serif;">
                <a class="w3-bar-item w3-button w3-text-white w3-hover-pink" href="bisection.html">Bisection Method</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="false.html">False-Position Method</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Simple.html">Simple One-Point
                    Iteration</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="newton.html">Newton-Ralphson
                    Method</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Secant.html">Secant Method</a>
            </div>
        </div>

        <div>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo2')"
                href="javascript:void(0)">Solution Of Linear Algebraic Equations <i class="fa fa-caret-down"></i></a>
            <div id="demo2" class="w3-hide" style="font: 1em sans-serif;">
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="cramer.html">Cramer's Rule</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Guss.html">Guss Elimination</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="jordan.html">Gauss-Jordan</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="matrix.html">Matrix Inversion</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="lu.html">LU Decomposition</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Cholesky.html">Cholesky
                    Decomposition</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Jacobi.html">Jacobi Iteration</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="seidel.html">Gauss-Seidel</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Conjugate.html">Conjugate
                    Gradient</a>
            </div>
        </div>

        <div>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo3')"
                href="javascript:void(0)">Interpolation <i class="fa fa-caret-down"></i></a>
            <div id="demo3" class="w3-hide" style="font: 1em sans-serif;">
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white " href="Divided_Difference.html">Newton's
                    Divided-Difference</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Lagrang.html">Lagrang</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo8')"
                    href="javascript:void(0)">Spline<i class="fa fa-caret-down"></i></a>
                <div id="demo8" class="w3-hide" style="font: 1em sans-serif;">
                    <a class="w3-bar-item w3-button w3-hover-pink w3-text-white " href="Spline_l.html"> &nbsp&nbsp
                        Linear</a>
                    <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Spline_q.html"> &nbsp&nbsp
                        quadratic</a>
                    <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Spline_c.html"> &nbsp&nbsp
                        cubic</a>
                </div>
            </div>
        </div>

        <div>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo4')"
                href="javascript:void(0)">Least Squares Regression<i class="fa fa-caret-down"></i></a>
            <div id="demo4" class="w3-hide" style="font: 1em sans-serif;">
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Linear.html">Linear Regression</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Polynomial.html">Polynomial
                    Regression</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Multiple.html">Multiple Linear
                    Regression</a>
            </div>
        </div>

        <div>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo5')"
                href="javascript:void(0)">Numerical Difference and Intergration <i class="fa fa-caret-down"></i></a>
            <div id="demo5" class="w3-show" style="font: 1em sans-serif;">
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo9')"
                    href="javascript:void(0)">Differention<i class="fa fa-caret-down"></i></a>
                <div id="demo9" class="w3-show" style="font: 1em sans-serif;">
                    <a class="w3-bar-item w3-button w3-hover-pink w3-text-white  " href="Forward.html"> &nbsp&nbsp
                        Forward</a>
                    <a class="w3-bar-item w3-button w3-hover-pink w3-text-white " href="Central.html"> &nbsp&nbsp
                        Central</a>
                    <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" href="Backward.html">
                        &nbsp&nbsp Backward</a>
                </div>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo7')"
                    href="javascript:void(0)">Intergration<i class="fa fa-caret-down"></i></a>
                <div id="demo7" class="w3-hide" style="font: 1em sans-serif;">
                    <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="compositet.html"> &nbsp&nbsp
                        Composite Trapezodal</a>
                    <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="composites.html"> &nbsp&nbsp
                        Composite Simpson's Rule</a>
                </div>
            </div>
        </div>

        <div>
            <a class="w3-bar-item w3-button w3-hover-pink w3-text-white w3-pink" onclick="myAccordion('demo11')"
                href="javascript:void(0)">Ordinary Differential Equations<i class="fa fa-caret-down"></i></a>
            <div id="demo11" class="w3-hide" style="font: 1em sans-serif;">
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Euler.html">Euler's Method</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Heun.html">Heun's Method</a>
                <a class="w3-bar-item w3-button w3-hover-pink w3-text-white" href="Modified.html">Modified Euler's
                    Method</a>
            </div>
        </div>


    </nav>
    <!--///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////-->

    <div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" id="myOverlay">
    </div>

    <div class="w3-main" style="margin-left:250px;">

        <div id="myTop" class="w3-container w3-top w3-large">
            <p><i class="fa fa-bars w3-button w3-hide-large w3-xlarge w3-text-white w3-hover-pink" onclick="w3_open()"
                    style="background-color:rgb(255, 57, 116); "></i>
                <span id="myIntro" class="w3-hide w3-text-white">NUMERICAL DIFFERENCE AND INTERGRATION : Backward
                    Differention</span></p>
        </div>

        <header class="w3-container " style="padding:64px 32px">
            <h1 class="w3-xxxlarge w3-text-white">NUMERICAL DIFFERENCE AND INTERGRATION</h1>
        </header>

        <div class="w3-container" style="padding:32px">

            <h2>Backward Differention</h2>

            <p>Algorithm: </p>

            <ul class="w3-leftbar w3-theme-border w3-border-red" style="list-style:none">
                <li>Step 1 : ใส่ฟังก์ชัน ค่า h ค่า x และ m (อันดับอนุพันธ์ที่จะหา) ตามลำดับ</li>
                <li>Step 2 : ใส่ค่าสมการแม่นตรง </li>
            </ul>
            <br>
            <center>
                <div class="w3-row">
                    <TABLE>
                        <TR>
                            <TD style="width:25%">
                                <center><input type="text" class="w3-input w3-hover" style="width:90% " id="func"
                                        placeholder="function"></center>
                            </TD>
                            <TD style="width:25%">
                                <center><input type="text" class="w3-input w3-hover" style="width:80%" id="h"
                                        placeholder="h"></center>
                            </TD>
                            <TD style="width:25%">
                                <center><input type="text" class="w3-input w3-hover" style="width:80%" id="x"
                                        placeholder="X"></center>
                            </TD>
                            <TD style="width:25%">
                                <center><input type="text" class="w3-input w3-hover" style="width:80%" id="m"
                                        placeholder="m"></center>
                            </TD>

                        </TR>
                    </TABLE>
                </div>
                <input type="submit" value="calculate" onclick="call_backward_diff()" id="button"
                    class="w3-button w3-section w3-pink w3-ripple w3-hover-red" style="width:20% " />
                <br>
                <br>
                <br>
            </center>
            <div class="w3-container w3-padding-16 w3-card" style="background-color :white" id="create_matrix">
                <h3>O(h) </h3>
                <hr>
                <center>
                    <h3 id="anwser1"></h3>
                </center>
                <hr>
            </div>
            <br>
            <br>
            <div class="w3-container w3-padding-16 w3-card" style="background-color :white" id="showx">
                <h3>O(h<sup>2</sup>) </h3>
                <hr>
                <center>
                    <h3 id="anwser2"></h3>
                </center>
                <hr>
            </div>
            <br><br>
        </div>
        <br><br>
        <footer class="w3-container " style="padding:32px">
            <div class="container">
                <div class="row">
                    <div class="col-sm-4">
                        <h3>About As...</h3>
                        <hr style="border-color: black">
                        <p>Submitted by &nbsp :: &nbsp &nbspMiss Thanita &nbsp Playlaharn</p>
                        <p> &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp
                            &nbsp 5904062620033</p>
                        <p> Present to &nbsp &nbsp &nbsp ::&nbsp &nbsp Suwatchai Kamonsantiroj &nbsp &nbsp, &nbsp
                            &nbspPh.D.</p>
                    </div>
                    <div class="col-sm-4">
                    </div>
                    <div class="col-sm-4">
                        <h3>About As...</h3>
                        <hr style="border-color: black">
                        <p>&nbsp &nbspThe website is a part of Numerical Method Subject</p>
                        <p>&nbsp &nbspDepartment of Computer and Information Science ,</p>
                        <p>&nbsp &nbspFaculty of Applied Science , King Mongkut's </p>
                        <p>&nbsp &nbspUniversity of Technology North Bangkok</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    <script>
        // Open and close the sidebar on medium and small screens
        function w3_open() {
            document.getElementById("mySidebar").style.display = "block";
            document.getElementById("myOverlay").style.display = "block";
        }
        function w3_close() {
            document.getElementById("mySidebar").style.display = "none";
            document.getElementById("myOverlay").style.display = "none";
        }
        // Change style of top container on scroll
        window.onscroll = function () { myFunction() };
        function myFunction() {
            if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {
                document.getElementById("myTop").classList.add("w3-card-4", "w3-animate-opacity");
                document.getElementById("myIntro").classList.add("w3-show-inline-block");
            }
            else {
                document.getElementById("myIntro").classList.remove("w3-show-inline-block");
                document.getElementById("myTop").classList.remove("w3-card-4", "w3-animate-opacity");
            }
        }
        // Accordions
        function myAccordion(id) {
            var x = document.getElementById(id);
            if (x.className.indexOf("w3-show") == -1) {
                x.className += " w3-show";
                x.previousElementSibling.className += " w3-pink w3-text-white w3-hover-pink";
            }
            else {
                x.className = x.className.replace("w3-show", "w3-hide");
                x.previousElementSibling.className.replace(" w3-pink w3-text-white w3-hover-pink", " ");
            }
        }
    </script>
    <script>
        function call_backward_diff() {
            call_backward_diff1();
            call_backward_diff2();
        }
        function call_backward_diff1() {
            let x = parseFloat(document.getElementById("x").value);
            let h = parseFloat(document.getElementById("h").value);
            let m = parseFloat(document.getElementById("m").value);

            let ans = 0;
            let real_ans = 0;
            switch (m) {
                case 1: ans = first_backward_diff1(x, h); break;
                case 2: ans = sec_backward_diff1(x, h); break;
                case 3: ans = third_backward_diff1(x, h); break;
                case 4: ans = forth_backward_diff1(x, h); break;
                default: alert("not in range"); ans = "not in range"; break;
            }
            document.getElementById("anwser1").innerHTML = ans;
        }

        function first_backward_diff1(x, h) {
            return (calculateFunction(x) - calculateFunction(x - h)) / h;
        }

        function sec_backward_diff1(x, h) {
            return (calculateFunction(x) - (2 * calculateFunction(x - h)) + calculateFunction(x - (2 * h))) / (Math.pow(h, 2));
        }

        function third_backward_diff1(x, h) {
            return (calculateFunction(x) - (3 * calculateFunction(x - h)) + (3 * calculateFunction(x - 2 * h)) - calculateFunction(x - (3 * h))) / (Math.pow(h, 3));
        }

        function forth_backward_diff1(x, h) {
            return (calculateFunction(x) - (4 * calculateFunction(x - h)) + (6 * calculateFunction(x - 2 * h)) - (4 * calculateFunction(x - 3 * h)) + calculateFunction(x - 4 * h)) / (Math.pow(h, 4));
        }
        //--------------------------------------------------------h2------------------------------------------------------------------
        function call_backward_diff2() {
            let x = parseFloat(document.getElementById("x").value);
            let h = parseFloat(document.getElementById("h").value);
            let m = parseFloat(document.getElementById("m").value);
            let ans = 0;
            let real_ans = 0;
            switch (m) {
                case 1: ans = first_backward_diff2(x, h); break;
                case 2: ans = sec_backward_diff2(x, h); break;
                case 3: ans = third_backward_diff2(x, h); break;
                case 4: ans = forth_backward_diff2(x, h); break;
                default: alert("not in range"); ans = "not in range"; break;
            }
            document.getElementById("anwser2").innerHTML = ans;
        }
        function first_backward_diff2(x, h) {
            return ((3 * calculateFunction(x)) - (4 * calculateFunction(x - h)) + calculateFunction(x - 2*h)) / (2 * h);
        }

        function sec_backward_diff2(x, h) {
            return ((2 * calculateFunction(x)) - (5 * calculateFunction(x - h)) + (4 * calculateFunction(x - (2 * h))) - calculateFunction(x - (3 * h))) / (Math.pow(h, 2));
        }

        function third_backward_diff2(x, h) {
            return ((5 * calculateFunction(x)) - (18 * calculateFunction(x - h)) + (24 * calculateFunction(x - 2 * h)) - (14 * calculateFunction(x - (3 * h))) + (3 * calculateFunction(x - (4 * h)))) / (2 * Math.pow(h, 3));
        }

        function forth_backward_diff2(x, h) {
            return ((3 * calculateFunction(x)) - (14 * calculateFunction(x - h)) + (26 * calculateFunction(x - 2 * h)) - (24 * calculateFunction(x - 3 * h)) + (11 * calculateFunction(x - 4 * h)) - (2 * calculateFunction(x - 5 * h))) / (Math.pow(h, 4));
        }

        //----------------------------------------------------------------------------------------------------------------------------

        function calculateFunction(inputx) {
            var str = document.getElementById("func").value;;
            const ans = math.compile(str);
            let scope = {
                x: parseFloat(inputx)
            };
            return ans.eval(scope)
        }

        function drawChart(data, x, data2, x2)//เขียนกราฟ
        {
            var trace1 = {
                x: x,
                y: data,
                yaxis: 'y1',
                type: 'scatter'
            };

            var trace2 = {
                x: x2,
                y: data2,
                yaxis: 'y2',
                type: 'scatter'
            };

            var data = [trace1, trace2];

            var layout = {
                title: 'Chart Of Euler\'s Method',
                yaxis: { title: 'Approximation Value' },
                yaxis2: {
                    title: 'Real Value',
                    titlefont: { color: 'rgb(148, 103, 189)' },
                    tickfont: { color: 'rgb(148, 103, 189)' },
                    overlaying: 'y',
                    side: 'right'
                }
            };
            Plotly.newPlot('mychart', data, layout, { showSendToCloud: true });
        }
    </script>

    <script>
        $(document).ready(function () {
            $("#create_matrix").hide();
            $("#findx").hide();
            $("#showx").hide();
            $("#cal").hide();
            $("#pointuse").hide();
            $("#graph").hide();
            $("#button").click(function () {
                $("#create_matrix").show();
                $("#cal").show();
                $("#graph").show();
                $("#showx").show();
                $("#findx").show();
            });
        });
    </script>
</body>
</html>
